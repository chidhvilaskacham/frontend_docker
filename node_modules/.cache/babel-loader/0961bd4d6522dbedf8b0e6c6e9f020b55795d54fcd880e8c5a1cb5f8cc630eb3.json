{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";// Use environment variable or fallback to localhost\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const backendService=process.env.REACT_APP_BACKEND_URL||\"/api\";console.log(\"Backend URL:\",backendService);// Debugging\nconst toolsData={Ansible:\"https://upload.wikimedia.org/wikipedia/commons/2/24/Ansible_logo.svg\",Docker:\"https://www.docker.com/wp-content/uploads/2022/03/vertical-logo-monochromatic.png\",Git:\"https://git-scm.com/images/logos/downloads/Git-Icon-1788C.png\",Jenkins:\"https://www.jenkins.io/images/logos/jenkins/jenkins.svg\",Prometheus:\"https://upload.wikimedia.org/wikipedia/commons/3/38/Prometheus_software_logo.svg\",Visual_studio:\"https://upload.wikimedia.org/wikipedia/commons/2/2c/Visual_Studio_Icon_2022.svg\"};function App(){const[tools,setTools]=useState([]);const[error,setError]=useState(\"\");const[loading,setLoading]=useState(true);useEffect(()=>{fetchTools();},[]);const fetchTools=()=>{setLoading(true);axios.get(`${backendService}/tools`).then(response=>{const toolsArray=Object.entries(response.data).map(_ref=>{let[name,votes]=_ref;return{name,votes};});setTools(toolsArray);setError(\"\");// Clear any previous errors\n}).catch(error=>{console.error(\"Error fetching data:\",error);setError(\"Failed to fetch tools. Please check the backend.\");}).finally(()=>{setLoading(false);});};const handleVote=toolName=>{axios.post(`${backendService}/vote/${toolName}`).then(()=>{setTools(prevTools=>prevTools.map(tool=>tool.name===toolName?{...tool,votes:tool.votes+1}:tool));setError(\"\");// Clear any previous errors\n}).catch(error=>{console.error(\"Error voting:\",error);setError(\"Failed to vote. Please try again.\");});};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.header,children:\"Vote for Your Favourite DevOps Tools\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:styles.error,children:error}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):tools.length>0?/*#__PURE__*/_jsx(\"div\",{style:styles.grid,children:tools.map(tool=>/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsx(\"img\",{src:toolsData[tool.name]||\"https://via.placeholder.com/100\",alt:tool.name,style:styles.image}),/*#__PURE__*/_jsx(\"h2\",{children:tool.name}),/*#__PURE__*/_jsxs(\"p\",{style:styles.votes,children:[\"Votes: \",tool.votes]}),/*#__PURE__*/_jsx(\"button\",{style:styles.button,onClick:()=>handleVote(tool.name),children:\"Vote\"})]},tool.name))}):/*#__PURE__*/_jsx(\"p\",{children:\"No tools found. Please check the backend.\"})]});}// ðŸŽ¨ STYLING\nconst styles={container:{textAlign:\"center\",marginTop:\"50px\",fontFamily:\"Arial, sans-serif\"},header:{fontSize:\"28px\",fontWeight:\"bold\",marginBottom:\"20px\"},error:{color:\"red\",fontWeight:\"bold\"},grid:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(200px, 1fr))\",gap:\"20px\",justifyContent:\"center\",padding:\"20px\"},card:{backgroundColor:\"#fff\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0px 4px 8px rgba(0, 0, 0, 0.2)\",textAlign:\"center\",transition:\"transform 0.2s\",\":hover\":{transform:\"scale(1.05)\"}},image:{width:\"80px\",height:\"80px\",objectFit:\"contain\",marginBottom:\"10px\"},votes:{fontSize:\"18px\",fontWeight:\"bold\"},button:{backgroundColor:\"#007BFF\",color:\"white\",border:\"none\",padding:\"10px 15px\",fontSize:\"16px\",borderRadius:\"5px\",cursor:\"pointer\",transition:\"0.3s\",\":hover\":{backgroundColor:\"#0056b3\"}}};export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","backendService","process","env","REACT_APP_BACKEND_URL","console","log","toolsData","Ansible","Docker","Git","Jenkins","Prometheus","Visual_studio","App","tools","setTools","error","setError","loading","setLoading","fetchTools","get","then","response","toolsArray","Object","entries","data","map","_ref","name","votes","catch","finally","handleVote","toolName","post","prevTools","tool","style","styles","container","children","header","length","grid","card","src","alt","image","button","onClick","textAlign","marginTop","fontFamily","fontSize","fontWeight","marginBottom","color","display","gridTemplateColumns","gap","justifyContent","padding","backgroundColor","borderRadius","boxShadow","transition","transform","width","height","objectFit","border","cursor"],"sources":["C:/Users/CHID/Documents/docker-images/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n// Use environment variable or fallback to localhost\r\nexport const backendService = process.env.REACT_APP_BACKEND_URL || \"/api\";\r\nconsole.log(\"Backend URL:\", backendService); // Debugging\r\n\r\nconst toolsData = {\r\n  Ansible: \"https://upload.wikimedia.org/wikipedia/commons/2/24/Ansible_logo.svg\",\r\n  Docker: \"https://www.docker.com/wp-content/uploads/2022/03/vertical-logo-monochromatic.png\",\r\n  Git: \"https://git-scm.com/images/logos/downloads/Git-Icon-1788C.png\",\r\n  Jenkins: \"https://www.jenkins.io/images/logos/jenkins/jenkins.svg\",\r\n  Prometheus: \"https://upload.wikimedia.org/wikipedia/commons/3/38/Prometheus_software_logo.svg\",\r\n  Visual_studio: \"https://upload.wikimedia.org/wikipedia/commons/2/2c/Visual_Studio_Icon_2022.svg\",\r\n};\r\n\r\nfunction App() {\r\n  const [tools, setTools] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchTools();\r\n  }, []);\r\n\r\n  const fetchTools = () => {\r\n    setLoading(true);\r\n    axios\r\n      .get(`${backendService}/tools`)\r\n      .then((response) => {\r\n        const toolsArray = Object.entries(response.data).map(([name, votes]) => ({\r\n          name,\r\n          votes,\r\n        }));\r\n        setTools(toolsArray);\r\n        setError(\"\"); // Clear any previous errors\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching data:\", error);\r\n        setError(\"Failed to fetch tools. Please check the backend.\");\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleVote = (toolName) => {\r\n    axios\r\n      .post(`${backendService}/vote/${toolName}`)\r\n      .then(() => {\r\n        setTools((prevTools) =>\r\n          prevTools.map((tool) =>\r\n            tool.name === toolName ? { ...tool, votes: tool.votes + 1 } : tool\r\n          )\r\n        );\r\n        setError(\"\"); // Clear any previous errors\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error voting:\", error);\r\n        setError(\"Failed to vote. Please try again.\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h1 style={styles.header}>Vote for Your Favourite DevOps Tools</h1>\r\n\r\n      {error && <p style={styles.error}>{error}</p>}\r\n\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : tools.length > 0 ? (\r\n        <div style={styles.grid}>\r\n          {tools.map((tool) => (\r\n            <div key={tool.name} style={styles.card}>\r\n              <img\r\n                src={toolsData[tool.name] || \"https://via.placeholder.com/100\"}\r\n                alt={tool.name}\r\n                style={styles.image}\r\n              />\r\n              <h2>{tool.name}</h2>\r\n              <p style={styles.votes}>Votes: {tool.votes}</p>\r\n              <button style={styles.button} onClick={() => handleVote(tool.name)}>\r\n                Vote\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p>No tools found. Please check the backend.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// ðŸŽ¨ STYLING\r\nconst styles = {\r\n  container: {\r\n    textAlign: \"center\",\r\n    marginTop: \"50px\",\r\n    fontFamily: \"Arial, sans-serif\",\r\n  },\r\n  header: {\r\n    fontSize: \"28px\",\r\n    fontWeight: \"bold\",\r\n    marginBottom: \"20px\",\r\n  },\r\n  error: {\r\n    color: \"red\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  grid: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\r\n    gap: \"20px\",\r\n    justifyContent: \"center\",\r\n    padding: \"20px\",\r\n  },\r\n  card: {\r\n    backgroundColor: \"#fff\",\r\n    padding: \"20px\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"0px 4px 8px rgba(0, 0, 0, 0.2)\",\r\n    textAlign: \"center\",\r\n    transition: \"transform 0.2s\",\r\n    \":hover\": {\r\n      transform: \"scale(1.05)\",\r\n    },\r\n  },\r\n  image: {\r\n    width: \"80px\",\r\n    height: \"80px\",\r\n    objectFit: \"contain\",\r\n    marginBottom: \"10px\",\r\n  },\r\n  votes: {\r\n    fontSize: \"18px\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  button: {\r\n    backgroundColor: \"#007BFF\",\r\n    color: \"white\",\r\n    border: \"none\",\r\n    padding: \"10px 15px\",\r\n    fontSize: \"16px\",\r\n    borderRadius: \"5px\",\r\n    cursor: \"pointer\",\r\n    transition: \"0.3s\",\r\n    \":hover\": {\r\n      backgroundColor: \"#0056b3\",\r\n    },\r\n  },\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}